######################################################################
# perdition.conf
#
# Sample configuration file for perdition. Format of a line is:
#
# <key> <value>
#
# Key is either a short or long option as per perdition -h|--help, without
# the leading - or --.  Blank lines are ignored, as is anything including
# and after a # (hash) on a line. If a \ precedes a new line then the lines
# will be concatenated.  If a \ precedes any other character, including a #
# (hash) it will be treated as a literal. Anything inside single quotes (')
# will be treated as a litreal. Anything other than a (') inside double
# quotes (") will be treated as a litreal. Whitespace in keys must be
# escaped or quoted. Whitespace in values need not be escaped or quoted.
#
# Options that do not make sense in the configuration file such as h|help
# and f|config_file  are ignored. Options specified on the command line
# override the options in this file.
#
# Default value for binary flags is off.
#
# If a string argument is empty ("") then the option will not
# be used unless noted otherwise.
#
# See the perdition(8) man page for more details about an option's 
# behaviour.
#
# The defaults given refer to the values if perdition
# is compiled with --sysconfdir=/etc as it would for
# many binary distributions. For the actuall defaults
# of a given perdition binary run "perdition --help"
#
######################################################################

# A|add_domain STATE[,STATE...]:
# Appends a domain to the USER based on the IP address connected to in
# given state(s).
# (default "")
#A servername_lookup
#add_domain servername_lookup

# a|authenticate_in:
# User is authenticated by perdition before connection to real-server.
#a
#authenticate_in

# B|no_bind_banner:
#  Use uname to generate banner of even if bind_address is in effect.
#B
#no_bind_banner

# b|bind_address IP_ADDRESS|HOSTNAME:
# Bind to this address.
# (default "")
#b 127.0.0.1
#bind_address 127.0.0.1

# C|connection_logging:
# Log all comminication recieved from end-users or real servers or sent
# from perdition.
# Note: debug must be in effect for this option to take effect.
#C
#connection_logging

# connect_relog SECONDS:
# How often to relog the connection.
# Zero for no relogging.
# (default 300)
#connect_relog 300

# c|client_server_specification:
# Allow end-user to specify the real-server.
#c
#client_server_specification

# D|domain_delimiter STRING:
# Delimiter between username and domain.
# (default "@")
#D @
#domain_delimiter \#

# d|debug:
# Turn on verbose debuging.
#d
#debug

# F|log_facility FACILITY:
# Facility to log to.
# (default "mail")
#F mail
#log_facility /dev/null

# g|group GROUP:
# Group to run as. 
# (default "nobody")
#g nobody
#group nobody

# I|capability|pop_capability|imap_capability STRING:
# Capabilities for the protocol.
#I IMAP4 IMAP4REV1 LITERAL+
#I IMAP4 IMAP4REV1
#imap_capability IMAP4

# i|inetd_mode: 
# Run in inetd mode.
#i
#inetd_mode

# L|connection_limit LIMIT:
# Maximum number of connections to accept simultaneously. A value of zero
# sets no limit on the number of simultaneous connections.
# (default 0)
#L 64
#connection_limit 64

# l|listen_port PORT_NUMBER|PORT_NAME:
# Port to listen on. 
# (default "protocol dependent")
#l 110
#listen_port 110

# login_disabled
# Do not allow users to log in.
#login_disabled

# lower_case STATE[,STATE...]:
# Convert usernames to lower case according the the locale in given
# state(s). 
# (default "")
#lower_case servername_lookup

# M|map_library FILENAME:
# Library to open that provides functions to look up the server for a user.
# M /usr/lib/libperditiondb_gdbm.so
# map_library /usr/lib/libperditiondb_gdbm.so
# map_library ""

# m|map_library_opt STRING:
# String option for the map_library.
# (default "")
#m /etc/perdition/popmap.gdbm.db
#map_library_opt /etc/perdition/popmap.gdbm.db
#map_library_opt ""

# no_daemon:
# Do not detach from terminal. 
#no_daemon

# n|no_lookup
# Disable host and port lookup.
#n
#no_lookup

# o|server_ok_line:
# If authentication with the back-end server is successful then send the
# servers +OK line to the client, instead of generting one.
#o
#server_ok_line

# P|protocol PROTOCOL:
# Protocol to use 
# (default "POP3")
#P POP3
#protocol POP3

# p|outgoing_port PORT_NAME|PORT_NUMBER:
# Default real-server port.
# (default "protocol dependent")
#p 110
#outgoing_port 110

# s|outgoing_server: SERVER[,SERVER...]
# Default server(s).
# (default "")
#s  sarah:110,locahost
#outgoing_server  sarah:110,localhost
#outgoing_server  sarah:110
#outgoing_server  sarah

# S|strip_domain: STATE[,STATE...]
# Allow domain portion of username to be striped in given state(s)
# (default "")
#S all
#strip_domain servername_lookup

# t|timeout SECONDS:
# Idle timeout. Zero for infinite timeout.
# (default 1800)
#t 1800
#timeout 1800

# u|username USERNAME:
# User to run as.
# (default "nobody")
#u nobody
#username nobody

# U|username_from_database:
# Substitute username from popmap lookup.
#U
#username_from_database

# q|quiet:
# Only log errors. Overriden by debug.
#q
#quiet

# query_str FORMAT[,FORMAT...]:
# Speficy a list of query strings to search for in the popmap.
#query_str \\U
#query_str \\u,\\D\\d
#query_str \\I
#query_str \\u\\da_domain,\\da_domain


######################################################################
# Options below relate to SSL/TLS support.
# They are not available if perdition is compiled without SSL support.
######################################################################

# ssl_mode MODE[,MODE ...]::
# Use SSL and or TLS for the listening and/or outgoing connections.
#ssl_mode ssl_listen

# ssl_ca_file FILENAME:
# Use SSL and or TLS for the listening and/or outgoing connections.
# (default "")
#(recommended location "/etc/perdition/perdition.ca.pem")
#ssl_ca_file /etc/perdition/perdition.ca.pem

# ssl_ca_path PATHNAME:
# Certificate Authorities to use when verifying certificates.
# (default "/etc/perdition/perdition.ca/")
#ssl_ca_file /etc/perdition/perdition.ca.pem

# ssl_ca_accept_self_signed:
# Accept self-signed certificates.
#ssl_ca_accept_self_signed

# ssl_cert_file FILENAME:
# Certificate chain to use when listening for SSL or TLS connections.
# (default "/etc/perdition/perdition.crt.pem")
#ssl_cert_file /etc/perdition/perdition.crt.pem

# ssl_cert_accept_self_signed:
# Accept self-signed certificates.
#ssl_cert_accept_self_signed

# ssl_cert_accept_expired:
# Accept expired certificates. This includes server certificates
# and certificats authority certificates.
#ssl_cert_accept_expired

# ssl_cert_accept_not_yet_valid:
# Accept certificates that are not yet valid. This includes server
# certificates and certificats authority certificates.
#ssl_cert_accept_not_yet_valid

# ssl_cert_verify_depth DEPTH:
# Chain Depth to recurse to when vierifying certificates.
# (default 9)
#ssl_cert_verify_depth 9

# ssl_key_file FILENAME:
# Public key to use when listening for SSL or TLS connections.
# (default "/etc/perdition/perdition.key.pem")
#ssl_key_file /etc/perdition/perdition.key.pem

# ssl_listen_ciphers STRING:
# Cipher list when listening for SSL or TLS connections.
# If empty ("") then openssl's default will be used.
# (default "")
#ssl_listen_ciphers "ALL:!ADH:RC4+RSA:+SSLv2:@STRENGTH"

# ssl_outgoing_ciphers STRING:
# Cipher list when making outgoing SSL or TLS connections.
# If empty ("") then openssl's default will be used.
# (default "")
#ssl_outgoing_ciphers "ALL:!ADH:RC4+RSA:+SSLv2:@STRENGTH"

# ssl_no_cert_verify:
# Don't cryptographically verify the real-server's certificate.
#ssl_no_cert_verify

# ssl_no_cn_verify:
# Don't verify the real-server's common name with the name used
# to connect to the server.
#ssl_no_cn_verify

